<!DOCTYPE html>

<html lang="ca">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>P.I.A.R II. Cap amb IA</title>
<link href="style.css" rel="stylesheet"/></head>
<body>
<header>P.I.A.R II. Cap amb IA</header>
<div id="camera-container">
<video autoplay="" id="video" muted="" playsinline=""></video>
<canvas id="canvas"></canvas>
</div>
<div id="info-panel">
<p><strong>Gir horitzontal:</strong> <span id="yaw">0</span> Â Â 
       <strong>Boca:</strong> <span id="mouth">0</span> Â Â 
       <strong>Ull E:</strong> <span id="eyeL">0</span> Â Â 
       <strong>Ull D:</strong> <span id="eyeR">0</span></p>
<div id="buttons">
<button id="connectBtn">ğŸ”— Connectar</button>
<button id="infoBtn" onclick="document.getElementById('info-layer').style.display='block'">â„¹ï¸ InformaciÃ³</button>
<button id="fullscreenBtn" onclick="toggleFullscreen()">Pantalla completa</button>
</div>
<div id="status">â³ Esperant connexiÃ³...</div>
</div>
<div id="panel-anÃ lisi">
<button onclick="document.getElementById('panel-anÃ lisi').style.display='none'">âœ•</button>
<h4>AnÃ lisi facial</h4>
<p><strong>Somriure:</strong> <span id="smile">0</span></p>
<p><strong>Front arrugat:</strong> <span id="frown">0</span></p>
<p><strong>Celles alÃ§ades:</strong> <span id="brows">0</span></p>
<p><strong>Cap amunt/avall:</strong> <span id="pitch">0</span></p>
<p><strong>Cap inclinat:</strong> <span id="roll">0</span></p>
</div>
<button onclick="document.getElementById('panel-anÃ lisi').style.display='block'" style="position:absolute;bottom:110px;left:10px;">
    â• Mostra anÃ lisi
  </button>
<div id="info-layer">
<h2>InformaciÃ³ del funcionament</h2>
<p>Aquesta aplicaciÃ³ utilitza intelÂ·ligÃ¨ncia artificial per detectar la posiciÃ³ del cap, lâ€™obertura de la boca i lâ€™estat dels ulls en temps real, i envia aquestes dades a una micro:bit a travÃ©s de Bluetooth (sense emparellament).</p>
<p><strong>Format de dades enviades per UART (6 dÃ­gits):</strong></p>
<ul><li><strong>2 dÃ­gits:</strong> gir horitzontal del cap (00 a 99)</li><li><strong>2 dÃ­gits:</strong> obertura de boca (00 a 99)</li><li><strong>1 dÃ­git:</strong> ull esquerre (0 = tancat, 1 = obert)</li><li><strong>1 dÃ­git:</strong> ull dret (0 = tancat, 1 = obert)</li><li><strong>2 dÃ­gits:</strong> somriure (00â€“10)</li><li><strong>3 dÃ­gits:</strong> celles alÃ§ades (000â€“999)</li><li><strong>2 dÃ­gits:</strong> front arrugat (00â€“10)</li></ul>
<p><strong>Exemple:</strong> <code>731011</code></p>
<p>Projecte inspirat en: <a href="https://cardboard.lofirobot.com/face-app-info/" target="_blank">cardboard.lofirobot.com</a></p>
<p>Fet per Jose amb â¤ï¸ i tecnologia IA</p><p>Fet per Jose amb â¤ï¸ i tecnologia IA</p><button onclick="document.getElementById('info-layer').style.display='none'">Tancar</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script><script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script><script src="script.js"></script></body>
</html>
